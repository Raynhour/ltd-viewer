import{E as y,X as E,a as s,x as L,bh as g,bi as R,l as p,az as I,au as v,aa as w,a4 as x,v as B}from"./index-A2vZorBF.js";const z=y({eager:Boolean},"lazy");function A(e,t){const a=E(!1),n=s(()=>a.value||e.eager||t.value);L(t,()=>a.value=!0);function o(){e.eager||(a.value=!1)}return{isBooted:a,hasContent:n,onAfterLeave:o}}function S(){const e=v("useRoute");return s(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function C(){var e,t;return(t=(e=v("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function P(e,t){var d,h;const a=g("RouterLink"),n=s(()=>!!(e.href||e.to)),o=s(()=>(n==null?void 0:n.value)||R(t,"click")||R(e,"click"));if(typeof a=="string"||!("useLink"in a))return{isLink:n,isClickable:o,href:p(e,"href")};const l=s(()=>({...e,to:p(()=>e.to||"")})),r=a.useLink(l.value),u=s(()=>e.to?r:void 0),i=S();return{isLink:n,isClickable:o,route:(d=u.value)==null?void 0:d.route,navigate:(h=u.value)==null?void 0:h.navigate,isActive:s(()=>{var c,k,m;return u.value?e.exact?i.value?((m=u.value.isExactActive)==null?void 0:m.value)&&I(u.value.route.value.query,i.value.query):((k=u.value.isExactActive)==null?void 0:k.value)??!1:((c=u.value.isActive)==null?void 0:c.value)??!1:!1}),href:s(()=>{var c;return e.to?(c=u.value)==null?void 0:c.route.value.href:e.href})}}const T=y({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let f=!1;function q(e,t){let a=!1,n,o;w&&(x(()=>{window.addEventListener("popstate",l),n=e==null?void 0:e.beforeEach((r,u,i)=>{f?a?t(i):i():setTimeout(()=>a?t(i):i()),f=!0}),o=e==null?void 0:e.afterEach(()=>{f=!1})}),B(()=>{window.removeEventListener("popstate",l),n==null||n(),o==null||o()}));function l(r){var u;(u=r.state)!=null&&u.replaced||(a=!0,setTimeout(()=>a=!1))}}function D(){const t=v("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}export{D as a,T as b,P as c,C as d,q as e,z as m,A as u};
