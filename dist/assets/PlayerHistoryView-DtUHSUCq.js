var Pe=Object.defineProperty;var Ie=(e,n,t)=>n in e?Pe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var u=(e,n,t)=>(Ie(e,typeof n!="symbol"?n+"":n,t),t);import{u as Ve,c as xe,g as Oe,a as V,d as We,r as He,o as A,b as X,w as Q,e as x,f as Y,n as he,t as U,h as z,i as b,j as F,F as ae,k as de,R as ye,_ as Re,l as Ye,m as je,p as Ge,q as oe,s as Ue,v as Fe,x as me,y as Be,z as ze,A as qe,V as Je,B as $e,C as ve,D as Ze,E as Qe,G as Xe,H as Ke,I as et}from"./index-DOR8izx-.js";import{P as tt,V as Se,a as nt}from"./VAlert-DwNyNYEA.js";import{W as rt,G as at,a as pe,b as st,U as ot,u as it}from"./units-C9YCK3r8.js";import{M as ut}from"./MastermindIcon-DzYYzmYy.js";import{i as ct,p as lt,u as dt,r as Me}from"./useTeams-ChOKgtaj.js";import"./scopeId-Ck77OaRn.js";class ft{constructor(n){u(this,"api");this.api=n}async history(n,{pageParam:t=0}){const c={limit:15,offset:t};return{games:await this.api.get(tt.PLAYER.HISTORY(n),{params:c}),prevOffset:t}}}const mt=100,ht=e=>{const n=new ft(e);return{history:c=>Ve(["history",c],p=>n.history(c.value,p),{getNextPageParam:p=>(console.log(p.prevOffset),p.prevOffset+10>p.articleCount||p.prevOffset+10>mt?!1:p.prevOffset+10),retry:0,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}};var be=(e=>(e.Ranked="Normal",e.Classic="Classic",e))(be||{});class vt{constructor(){u(this,"playerId","");u(this,"playerName","");u(this,"playerSlot",0);u(this,"legion","");u(this,"workers",0);u(this,"value",0);u(this,"cross",!1);u(this,"gameResult","");u(this,"classicElo",0);u(this,"overallElo",0);u(this,"eloChange",0);u(this,"fighters","");u(this,"eco",!1);u(this,"mercenaries","");u(this,"stayedUntilEnd",!0);u(this,"chosenSpell","");u(this,"chosenSpellLocation","");u(this,"partySize",0);u(this,"firstWaveFighters","");u(this,"rolls","");u(this,"legionSpecificElo",0);u(this,"partyMembers",null);u(this,"partyMembersIds",null);u(this,"mvpScore",0);u(this,"mvp");u(this,"netWorthPerWave",[]);u(this,"valuePerWave",[]);u(this,"workersPerWave",[]);u(this,"incomePerWave",[]);u(this,"mercenariesSentPerWave",[]);u(this,"mercenariesReceivedPerWave",[]);u(this,"leaksPerWave",[]);u(this,"buildPerWave",[]);u(this,"leakValue",0);u(this,"leaksCaughtValue",0);u(this,"leftAtSeconds",0);u(this,"kingUpgradesPerWave",[]);u(this,"opponentKingUpgradesPerWave",[]);u(this,"megamind",!1);u(this,"chosenChampionLocation","");u(this,"income");u(this,"netWorth")}}var Ce={exports:{}};(function(e,n){(function(t,c){e.exports=c()})(xe,function(){var t=1e3,c=6e4,p=36e5,M="millisecond",g="second",y="minute",D="hour",h="day",v="week",f="month",C="quarter",m="year",w="date",E="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(i){var s=["th","st","nd","rd"],r=i%100;return"["+i+(s[(r-20)%10]||s[r]||s[0])+"]"}},j=function(i,s,r){var o=String(i);return!o||o.length>=s?i:""+Array(s+1-o.length).join(r)+i},G={s:j,z:function(i){var s=-i.utcOffset(),r=Math.abs(s),o=Math.floor(r/60),a=r%60;return(s<=0?"+":"-")+j(o,2,"0")+":"+j(a,2,"0")},m:function i(s,r){if(s.date()<r.date())return-i(r,s);var o=12*(r.year()-s.year())+(r.month()-s.month()),a=s.clone().add(o,f),l=r-a<0,d=s.clone().add(o+(l?-1:1),f);return+(-(o+(r-a)/(l?a-d:d-a))||0)},a:function(i){return i<0?Math.ceil(i)||0:Math.floor(i)},p:function(i){return{M:f,y:m,w:v,d:h,D:w,h:D,m:y,s:g,ms:M,Q:C}[i]||String(i||"").toLowerCase().replace(/s$/,"")},u:function(i){return i===void 0}},L="en",P={};P[L]=R;var K="$isDayjsObject",q=function(i){return i instanceof ue||!(!i||!i[K])},ie=function i(s,r,o){var a;if(!s)return L;if(typeof s=="string"){var l=s.toLowerCase();P[l]&&(a=l),r&&(P[l]=r,a=l);var d=s.split("-");if(!a&&d.length>1)return i(d[0])}else{var S=s.name;P[S]=s,a=S}return!o&&a&&(L=a),a||!o&&L},O=function(i,s){if(q(i))return i.clone();var r=typeof s=="object"?s:{};return r.date=i,r.args=arguments,new ue(r)},$=G;$.l=ie,$.i=q,$.w=function(i,s){return O(i,{locale:s.$L,utc:s.$u,x:s.$x,$offset:s.$offset})};var ue=function(){function i(r){this.$L=ie(r.locale,null,!0),this.parse(r),this.$x=this.$x||r.x||{},this[K]=!0}var s=i.prototype;return s.parse=function(r){this.$d=function(o){var a=o.date,l=o.utc;if(a===null)return new Date(NaN);if($.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var d=a.match(_);if(d){var S=d[2]-1||0,k=(d[7]||"0").substring(0,3);return l?new Date(Date.UTC(d[1],S,d[3]||1,d[4]||0,d[5]||0,d[6]||0,k)):new Date(d[1],S,d[3]||1,d[4]||0,d[5]||0,d[6]||0,k)}}return new Date(a)}(r),this.init()},s.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},s.$utils=function(){return $},s.isValid=function(){return this.$d.toString()!==E},s.isSame=function(r,o){var a=O(r);return this.startOf(o)<=a&&a<=this.endOf(o)},s.isAfter=function(r,o){return O(r)<this.startOf(o)},s.isBefore=function(r,o){return this.endOf(o)<O(r)},s.$g=function(r,o,a){return $.u(r)?this[o]:this.set(a,r)},s.unix=function(){return Math.floor(this.valueOf()/1e3)},s.valueOf=function(){return this.$d.getTime()},s.startOf=function(r,o){var a=this,l=!!$.u(o)||o,d=$.p(r),S=function(Z,I){var B=$.w(a.$u?Date.UTC(a.$y,I,Z):new Date(a.$y,I,Z),a);return l?B:B.endOf(h)},k=function(Z,I){return $.w(a.toDate()[Z].apply(a.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(I)),a)},W=this.$W,N=this.$M,H=this.$D,ee="set"+(this.$u?"UTC":"");switch(d){case m:return l?S(1,0):S(31,11);case f:return l?S(1,N):S(0,N+1);case v:var J=this.$locale().weekStart||0,ne=(W<J?W+7:W)-J;return S(l?H-ne:H+(6-ne),N);case h:case w:return k(ee+"Hours",0);case D:return k(ee+"Minutes",1);case y:return k(ee+"Seconds",2);case g:return k(ee+"Milliseconds",3);default:return this.clone()}},s.endOf=function(r){return this.startOf(r,!1)},s.$set=function(r,o){var a,l=$.p(r),d="set"+(this.$u?"UTC":""),S=(a={},a[h]=d+"Date",a[w]=d+"Date",a[f]=d+"Month",a[m]=d+"FullYear",a[D]=d+"Hours",a[y]=d+"Minutes",a[g]=d+"Seconds",a[M]=d+"Milliseconds",a)[l],k=l===h?this.$D+(o-this.$W):o;if(l===f||l===m){var W=this.clone().set(w,1);W.$d[S](k),W.init(),this.$d=W.set(w,Math.min(this.$D,W.daysInMonth())).$d}else S&&this.$d[S](k);return this.init(),this},s.set=function(r,o){return this.clone().$set(r,o)},s.get=function(r){return this[$.p(r)]()},s.add=function(r,o){var a,l=this;r=Number(r);var d=$.p(o),S=function(N){var H=O(l);return $.w(H.date(H.date()+Math.round(N*r)),l)};if(d===f)return this.set(f,this.$M+r);if(d===m)return this.set(m,this.$y+r);if(d===h)return S(1);if(d===v)return S(7);var k=(a={},a[y]=c,a[D]=p,a[g]=t,a)[d]||1,W=this.$d.getTime()+r*k;return $.w(W,this)},s.subtract=function(r,o){return this.add(-1*r,o)},s.format=function(r){var o=this,a=this.$locale();if(!this.isValid())return a.invalidDate||E;var l=r||"YYYY-MM-DDTHH:mm:ssZ",d=$.z(this),S=this.$H,k=this.$m,W=this.$M,N=a.weekdays,H=a.months,ee=a.meridiem,J=function(I,B,re,ce){return I&&(I[B]||I(o,l))||re[B].slice(0,ce)},ne=function(I){return $.s(S%12||12,I,"0")},Z=ee||function(I,B,re){var ce=I<12?"AM":"PM";return re?ce.toLowerCase():ce};return l.replace(T,function(I,B){return B||function(re){switch(re){case"YY":return String(o.$y).slice(-2);case"YYYY":return $.s(o.$y,4,"0");case"M":return W+1;case"MM":return $.s(W+1,2,"0");case"MMM":return J(a.monthsShort,W,H,3);case"MMMM":return J(H,W);case"D":return o.$D;case"DD":return $.s(o.$D,2,"0");case"d":return String(o.$W);case"dd":return J(a.weekdaysMin,o.$W,N,2);case"ddd":return J(a.weekdaysShort,o.$W,N,3);case"dddd":return N[o.$W];case"H":return String(S);case"HH":return $.s(S,2,"0");case"h":return ne(1);case"hh":return ne(2);case"a":return Z(S,k,!0);case"A":return Z(S,k,!1);case"m":return String(k);case"mm":return $.s(k,2,"0");case"s":return String(o.$s);case"ss":return $.s(o.$s,2,"0");case"SSS":return $.s(o.$ms,3,"0");case"Z":return d}return null}(I)||d.replace(":","")})},s.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},s.diff=function(r,o,a){var l,d=this,S=$.p(o),k=O(r),W=(k.utcOffset()-this.utcOffset())*c,N=this-k,H=function(){return $.m(d,k)};switch(S){case m:l=H()/12;break;case f:l=H();break;case C:l=H()/3;break;case v:l=(N-W)/6048e5;break;case h:l=(N-W)/864e5;break;case D:l=N/p;break;case y:l=N/c;break;case g:l=N/t;break;default:l=N}return a?l:$.a(l)},s.daysInMonth=function(){return this.endOf(f).$D},s.$locale=function(){return P[this.$L]},s.locale=function(r,o){if(!r)return this.$L;var a=this.clone(),l=ie(r,o,!0);return l&&(a.$L=l),a},s.clone=function(){return $.w(this.$d,this)},s.toDate=function(){return new Date(this.valueOf())},s.toJSON=function(){return this.isValid()?this.toISOString():null},s.toISOString=function(){return this.$d.toISOString()},s.toString=function(){return this.$d.toUTCString()},i}(),we=ue.prototype;return O.prototype=we,[["$ms",M],["$s",g],["$m",y],["$H",D],["$W",h],["$M",f],["$y",m],["$D",w]].forEach(function(i){we[i[1]]=function(s){return this.$g(s,i[0],i[1])}}),O.extend=function(i,s){return i.$i||(i(s,ue,O),i.$i=!0),O},O.locale=ie,O.isDayjs=q,O.unix=function(i){return O(1e3*i)},O.en=P[L],O.Ls=P,O.p={},O})})(Ce);var pt=Ce.exports;const Te=Oe(pt);var Ne={exports:{}};(function(e,n){(function(t,c){e.exports=c()})(xe,function(){return function(t,c,p){t=t||{};var M=c.prototype,g={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function y(h,v,f,C){return M.fromToBase(h,v,f,C)}p.en.relativeTime=g,M.fromToBase=function(h,v,f,C,m){for(var w,E,_,T=f.$locale().relativeTime||g,R=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],j=R.length,G=0;G<j;G+=1){var L=R[G];L.d&&(w=C?p(h).diff(f,L.d,!0):f.diff(h,L.d,!0));var P=(t.rounding||Math.round)(Math.abs(w));if(_=w>0,P<=L.r||!L.r){P<=1&&G>0&&(L=R[G-1]);var K=T[L.l];m&&(P=m(""+P)),E=typeof K=="string"?K.replace("%d",P):K(P,v,L.l,_);break}}if(v)return E;var q=_?T.future:T.past;return typeof q=="function"?q(E):q.replace("%s",E)},M.to=function(h,v){return y(h,v,this,!0)},M.from=function(h,v){return y(h,v,this)};var D=function(h){return h.$u?p.utc():p()};M.toNow=function(h){return this.to(D(this),h)},M.fromNow=function(h){return this.from(D(this),h)}}})})(Ne);var gt=Ne.exports;const yt=Oe(gt);Te.extend(yt);function _t(e){const n=Te(e);function t(){return n.fromNow()}return{daysAgo:t}}function wt(e){const n=e%10,t=e%100;return e===1?"MVP":n===1&&t!==11?e+"st":n===2&&t!==12?e+"nd":n===3&&t!==13?e+"rd":e+"th"}function $t(e){return{mvpScores:V(()=>e.playersData.map(t=>t).sort((t,c)=>c.mvpScore-t.mvpScore).map((t,c)=>({mvpScore:t.mvpScore,playerName:t.playerName,positionText:wt(c+1)})))}}const St={class:"game-card__main-info game-card-item"},Mt={class:"game-card__text game-card-item d-flex"},Dt={class:"game-card__text"},kt={class:"game-card__text"},xt={class:"game-card-item"},Ot={class:"game-card__text"},Wt={class:"game-card__text"},bt={class:"game-info"},Ct={class:"game-card__text d-flex"},Tt={class:"game-card__text"},Nt={class:"game-card__text"},At={class:"game-teams d-flex justify-start"},Et={class:"game-team mr-5"},Lt=["src"],Pt={class:"game-team"},It=["src"],Vt=We({__name:"GameCard",props:{game:{},playerName:{}},setup(e){const n=e,t=V(()=>{var w;return((w=n.game.playersData)==null?void 0:w.find(E=>E.playerName.toLocaleLowerCase()===n.playerName.toLocaleLowerCase()))||new vt}),c=V(()=>{const m=ct(t.value);return{title:lt(m),isWin:m}}),p=_t(n.game.date).daysAgo(),M=V(()=>({value:t.value.value,workers:t.value.workers,income:t.value.incomePerWave[t.value.incomePerWave.length-1]})),{mvpScores:g}=$t(n.game),y=V(()=>{var m;return(m=g.value.find(w=>w.playerName===n.playerName))==null?void 0:m.positionText}),D=V(()=>n.game.playersData),{firstTeam:h,secondTeam:v}=dt(D),f=V(()=>n.game.queueType===be.Classic),C=V(()=>t.value.eloChange>0?`+${t.value.eloChange}`:t.value.eloChange.toString());return(m,w)=>{const E=He("router-link");return A(),X(E,{to:{name:b(ye).GAME_RESULT,params:{id:m.game._id}},class:he(["game-card text-left",{"game-card_win":c.value.isWin}])},{default:Q(()=>[x("div",St,[Y(rt,{width:"50px",wave:m.game.endingWave,class:"game-card__main-icon"},null,8,["wave"]),x("div",null,[x("div",{class:he({"text-green":c.value.isWin,"text-red":!c.value.isWin})},U(c.value.title),3),x("div",Mt,[z(U(m.game.queueType)+" ",1),x("div",{class:he(["ml-1",{"text-green":t.value.eloChange>=0,"text-red":t.value.eloChange<0}])}," ("+U(C.value)+") ",3)]),x("div",Dt,"wave "+U(m.game.endingWave),1),x("div",kt,U(b(p)),1)])]),x("div",xt,[Y(at,{wave:m.game.endingWave,player:M.value},null,8,["wave","player"]),x("div",Ot,[Y(pe,{icon:"Worker After 10",class:"game-card__icon"}),z(" "+U(t.value.workersPerWave[9]),1)]),x("div",Wt,[Y(pe,{icon:"Alpha Top 10",class:"game-card__icon"}),z(" "+U(y.value),1)])]),x("div",bt,[x("div",Ct,[z(" Opening: "),(A(!0),F(ae,null,de(t.value.buildPerWave[0],(_,T)=>(A(),X(st,{key:T,unit:_,units:b(ot),"has-champion":!1,class:"game-card__icon ml-1"},null,8,["unit","units"]))),128))]),x("div",Tt,[z(" Legion: "),Y(ut,{width:"15px","is-megamind":t.value.megamind,mastermind:t.value.legion},null,8,["is-megamind","mastermind"])]),x("div",Nt,[z(" Spell: "),Y(pe,{class:"game-card__icon",icon:t.value.chosenSpell},null,8,["icon"])])]),x("div",At,[x("div",Et,[(A(!0),F(ae,null,de(b(h),_=>(A(),F("div",{class:"game-player game-card__text",key:_.playerName},[x("img",{src:b(Me)(f.value?_.classicElo:_.overallElo,m.game.queueType),class:"game-card__icon"},null,8,Lt),z(" "+U(_.playerName),1)]))),128))]),x("div",Pt,[(A(!0),F(ae,null,de(b(v),_=>(A(),F("div",{class:"game-player game-card__text",key:_.playerName},[x("img",{src:b(Me)(f.value?_.classicElo:_.overallElo,m.game.queueType),class:"game-card__icon"},null,8,It),z(" "+U(_.playerName),1)]))),128))])])]),_:1},8,["to","class"])}}}),Ht=Re(Vt,[["__scopeId","data-v-dd563476"]]);function _e(e){return Ue()?(Fe(e),!0):!1}function te(e){return typeof e=="function"?e():b(e)}const Ae=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Rt=e=>e!=null,Yt=Object.prototype.toString,jt=e=>Yt.call(e)==="[object Object]",se=()=>{},De=Gt();function Gt(){var e,n;return Ae&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const Ut={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function Ft(...e){if(e.length!==1)return Ye(...e);const n=e[0];return typeof n=="function"?je(Ge(()=>({get:n,set:se}))):oe(n)}function fe(e){var n;const t=te(e);return(n=t==null?void 0:t.$el)!=null?n:t}const Ee=Ae?window:void 0;function Bt(...e){let n,t,c,p;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,c,p]=e,n=Ee):[n,t,c,p]=e,!n)return se;Array.isArray(t)||(t=[t]),Array.isArray(c)||(c=[c]);const M=[],g=()=>{M.forEach(v=>v()),M.length=0},y=(v,f,C,m)=>(v.addEventListener(f,C,m),()=>v.removeEventListener(f,C,m)),D=me(()=>[fe(n),te(p)],([v,f])=>{if(g(),!v)return;const C=jt(f)?{...f}:f;M.push(...t.flatMap(m=>c.map(w=>y(v,m,w,C))))},{immediate:!0,flush:"post"}),h=()=>{D(),g()};return _e(h),h}function zt(){const e=oe(!1),n=ze();return n&&Be(()=>{e.value=!0},n),e}function qt(e){const n=zt();return V(()=>(n.value,!!e()))}function ke(e,n,t={}){const{root:c,rootMargin:p="0px",threshold:M=.1,window:g=Ee,immediate:y=!0}=t,D=qt(()=>g&&"IntersectionObserver"in g),h=V(()=>{const w=te(e);return(Array.isArray(w)?w:[w]).map(fe).filter(Rt)});let v=se;const f=oe(y),C=D.value?me(()=>[h.value,fe(c),f.value],([w,E])=>{if(v(),!f.value||!w.length)return;const _=new IntersectionObserver(n,{root:fe(E),rootMargin:p,threshold:M});w.forEach(T=>T&&_.observe(T)),v=()=>{_.disconnect(),v=se}},{immediate:y,flush:"post"}):se,m=()=>{v(),C(),f.value=!1};return _e(m),{isSupported:D,isActive:f,pause(){v(),f.value=!1},resume(){f.value=!0},stop:m}}function ge(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const Jt={[Ut.mounted](e,n){typeof n.value=="function"?ke(e,n.value):ke(e,...n.value)}};function Le(e){const n=window.getComputedStyle(e);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&e.clientWidth<e.scrollWidth||n.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!t||t.tagName==="BODY"?!1:Le(t)}}function Zt(e){const n=e||window.event,t=n.target;return Le(t)?!1:n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)}const le=new WeakMap;function Qt(e,n=!1){const t=oe(n);let c=null;me(Ft(e),g=>{const y=ge(te(g));if(y){const D=y;le.get(D)||le.set(D,D.style.overflow),t.value&&(D.style.overflow="hidden")}},{immediate:!0});const p=()=>{const g=ge(te(e));!g||t.value||(De&&(c=Bt(g,"touchmove",y=>{Zt(y)},{passive:!1})),g.style.overflow="hidden",t.value=!0)},M=()=>{var g;const y=ge(te(e));!y||!t.value||(De&&(c==null||c()),y.style.overflow=(g=le.get(y))!=null?g:"",le.delete(y),t.value=!1)};return _e(M),V({get(){return t.value},set(g){g?p():M()}})}function Xt(){let e=!1;const n=oe(!1);return(t,c)=>{if(n.value=c.value,e)return;e=!0;const p=Qt(t,c.value);me(n,M=>p.value=M)}}Xt();function Kt(){const e=qe();function n(t){if(t.length<40)return e.push({name:ye.PLAYER_HISTORY,query:{name:t}});e.push({name:ye.GAME_RESULT,params:{id:t}})}return{search:n}}const en=x("h2",{class:"text-h5"},"Loading player...",-1),tn=x("span",{class:"text-h6 font-weight-bold title"},"Player not found",-1),nn={key:1,class:"container fill-height mt-5"},rn={key:0,class:"intersection"},fn=We({__name:"PlayerHistoryView",setup(e){const{api:n}=it(),t=Ze(),c=V(()=>{var _;return(((_=t.query)==null?void 0:_.name)||"").toString()}),{search:p}=Kt(),{history:M}=ht(n),g=M(c),{isLoading:y,data:D,error:h,isFetching:v,fetchNextPage:f,hasNextPage:C}=g;function m(_){const T=_.target.value;p(T)}const w=V(()=>{var T;return{games:(T=D.value)==null?void 0:T.pages.reduce((R,j)=>(j.games.forEach(G=>{R=R.concat(G)}),R),[]),count:0}});function E([{isIntersecting:_}]){_&&f.value()}return(_,T)=>b(y)||b(h)?(A(),X(Je,{key:0,class:"fill-height"},{default:Q(()=>[Y($e,{class:"text-center align-center items-center fill-height"},{default:Q(()=>[b(y)?(A(),F(ae,{key:0},[Y(Se,{color:"primary",indeterminate:"disable-shrink",size:"50",width:"8"}),en],64)):b(h)?(A(),X(nt,{key:1,height:"100",type:"error",closable:!1},{default:Q(()=>[tn]),_:1})):ve("",!0)]),_:1})]),_:1})):(A(),F("div",nn,[b(D)?(A(),X($e,{key:0,class:"text-center fill-height"},{default:Q(()=>[Y(Ke,null,{default:Q(()=>[Y(Qe,{cols:"12",class:"align-center"},{default:Q(()=>[Y(Xe,{class:"mt-3",name:"search",color:"primary","append-inner-icon":"mdi-magnify",variant:"solo-filled",label:"Nickname or Game ID",modelValue:c.value,onChange:m},null,8,["modelValue"])]),_:1})]),_:1}),(A(!0),F(ae,null,de(w.value.games,(R,j)=>(A(),X(Ht,{playerName:c.value,game:R,key:j},null,8,["playerName","game"]))),128)),!b(y)&&!b(v)&&w.value.games.length&&b(C)?et((A(),F("div",rn,null,512)),[[b(Jt),E]]):b(v)?(A(),X(Se,{key:1,color:"primary",indeterminate:"disable-shrink",size:"50",width:"8"})):ve("",!0)]),_:1})):ve("",!0)]))}});export{fn as default};
