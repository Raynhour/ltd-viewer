import{G as y,P as E,a as u,x as L,bo as g,bp as p,l as R,aW as I,O as v,aE as w,T as x,v as B}from"./index-CWFRuG_G.js";const P=y({eager:Boolean},"lazy");function T(e,t){const a=E(!1),n=u(()=>a.value||e.eager||t.value);L(t,()=>a.value=!0);function s(){e.eager||(a.value=!1)}return{isBooted:a,hasContent:n,onAfterLeave:s}}function S(){const e=v("useRoute");return u(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function A(){var e,t;return(t=(e=v("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function C(e,t){var d,k;const a=g("RouterLink"),n=u(()=>!!(e.href||e.to)),s=u(()=>(n==null?void 0:n.value)||p(t,"click")||p(e,"click"));if(typeof a=="string"||!("useLink"in a))return{isLink:n,isClickable:s,href:R(e,"href")};const l=u(()=>({...e,to:R(()=>e.to||"")})),r=a.useLink(l.value),o=u(()=>e.to?r:void 0),i=S();return{isLink:n,isClickable:s,route:(d=o.value)==null?void 0:d.route,navigate:(k=o.value)==null?void 0:k.navigate,isActive:u(()=>{var c,h,m;return o.value?e.exact?i.value?((m=o.value.isExactActive)==null?void 0:m.value)&&I(o.value.route.value.query,i.value.query):((h=o.value.isExactActive)==null?void 0:h.value)??!1:((c=o.value.isActive)==null?void 0:c.value)??!1:!1}),href:u(()=>{var c;return e.to?(c=o.value)==null?void 0:c.route.value.href:e.href})}}const q=y({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let f=!1;function z(e,t){let a=!1,n,s;w&&(x(()=>{window.addEventListener("popstate",l),n=e==null?void 0:e.beforeEach((r,o,i)=>{f?a?t(i):i():setTimeout(()=>a?t(i):i()),f=!0}),s=e==null?void 0:e.afterEach(()=>{f=!1})}),B(()=>{window.removeEventListener("popstate",l),n==null||n(),s==null||s()}));function l(r){var o;(o=r.state)!=null&&o.replaced||(a=!0,setTimeout(()=>a=!1))}}function O(){const t=v("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}export{P as a,T as b,O as c,A as d,z as e,q as m,C as u};
